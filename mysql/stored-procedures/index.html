<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Defining Stored Programs in MySQL # If you use the mysql client program to define a stored program containing semicolon characters, a problem arises. By default, mysql itself recognizes the semicolon as a statement delimiter, so you must redefine the delimiter temporarily to cause mysql to pass the entire stored program definition to the server. To redefine the mysql delimiter, use the delimiter command. See also MySQL Reference manual."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Stored Procedures"><meta property="og:description" content="Defining Stored Programs in MySQL # If you use the mysql client program to define a stored program containing semicolon characters, a problem arises. By default, mysql itself recognizes the semicolon as a statement delimiter, so you must redefine the delimiter temporarily to cause mysql to pass the entire stored program definition to the server. To redefine the mysql delimiter, use the delimiter command. See also MySQL Reference manual."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/mysql/stored-procedures/"><meta property="article:section" content="mysql"><meta property="article:published_time" content="2023-02-20T15:14:52+08:00"><meta property="article:modified_time" content="2023-02-20T15:14:52+08:00"><title>Stored Procedures | Handbook</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.a82d7e77ceb134d151c4d7e381eeb30623fbd5a524d58c584d8716ecec0205bd.css integrity="sha256-qC1+d86xNNFRxNfjge6zBiP71aUk1YxYTYcW7OwCBb0=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.40fea5060e4b809b4b777fbdb9c3c088175992d47e03af5080e373fec478bfd3.js integrity="sha256-QP6lBg5LgJtLd3+9ucPAiBdZktR+A69QgONz/sR4v9M=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Handbook</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Docker</span><ul><li><a href=/docker/common-commands/>Common Commands</a></li><li><a href=/docker/daemon.json/>Daemon.json</a></li></ul></li><li><span>Git</span><ul><li><a href=/git/common-commands/>Common Commands</a></li></ul></li><li><span>Linux</span><ul><li><a href=/linux/common/>Common</a></li><li><a href=/linux/ubuntu/>Ubuntu</a></li></ul></li><li><span>MySQL</span><ul><li><a href=/mysql/stored-procedures/ class=active>Stored Procedures</a></li><li><a href=/mysql/transactions/>Transactions</a></li><li><a href=/mysql/trigger/>Trigger</a></li></ul></li><li><a href=/oracle/>Oracle</a><ul></ul></li><li><span>PostgreSQL</span><ul><li><a href=/postgresql/common-commands/>Common Commands</a></li></ul></li><li><span>PowerShell</span><ul><li><a href=/powershell/file/>File</a></li></ul></li><li><span>Redis</span><ul><li><a href=/redis/common-commands/>Common Commands</a></li><li><a href=/redis/transactions/>Transations</a></li></ul></li><li><span>SQL</span><ul><li><a href=/sql/common-expressions/>Common Expressions</a></li><li><a href=/sql/common-functions/>Common Functions</a></li><li><a href=/sql/views/>Views</a></li></ul></li><li><a href=/reading/>Reading</a><ul></ul></li><li><a href=/node/>Node</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Stored Procedures</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#defining-stored-programs-in-mysql>Defining Stored Programs in MySQL</a></li></ul></li></ul></nav></aside></header><article class=markdown><h3 id=defining-stored-programs-in-mysql>Defining Stored Programs in MySQL
<a class=anchor href=#defining-stored-programs-in-mysql>#</a></h3><p>If you use the mysql client program to define a stored program containing semicolon characters, a problem arises. By default, mysql itself recognizes the semicolon as a statement delimiter, so you must redefine the delimiter temporarily to cause mysql to pass the entire stored program definition to the server. To redefine the mysql delimiter, use the delimiter command. See also <a href=https://dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.html>MySQL Reference manual</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mysql&gt; delimiter //
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt; CREATE PROCEDURE dorepeat<span style=color:#f92672>(</span>p1 INT<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    -&gt; BEGIN
</span></span><span style=display:flex><span>    -&gt;   SET @x <span style=color:#f92672>=</span> 0;
</span></span><span style=display:flex><span>    -&gt;   REPEAT SET @x <span style=color:#f92672>=</span> @x + 1; UNTIL @x &gt; p1 END REPEAT;
</span></span><span style=display:flex><span>    -&gt; END
</span></span><span style=display:flex><span>    -&gt; //
</span></span><span style=display:flex><span>Query OK, <span style=color:#ae81ff>0</span> rows affected <span style=color:#f92672>(</span>0.00 sec<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mysql&gt; delimiter ;
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#defining-stored-programs-in-mysql>Defining Stored Programs in MySQL</a></li></ul></li></ul></nav></div></aside></main></body></html>